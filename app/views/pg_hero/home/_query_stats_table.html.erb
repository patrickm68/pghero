<table class="table">
  <thead>
    <tr>
      <th style="width: 33.33%;">Total Time</th>
      <th style="width: 33.33%;">Average Time</th>
      <th style="width: 33.33%;">Calls</th>
    </tr>
  </thead>
  <tbody>
    <% queries.each do |query| %>
      <tr>
        <td>
          <%= query["total_minutes"].to_f.round %> min
          <span class="percent">
            <% percent = query["total_percent"].to_f %>
            <% if percent > 1 %>
              <%= percent.round %>%
            <% elsif percent > 0.1 %>
              <%= percent.round(1) %>%
            <% else %>
              &lt; 0.1%
            <% end %>
          </span>
        </td>
        <td><%= query["average_time"].to_f.round %> ms</td>
        <td><%= number_with_delimiter(query["calls"].to_i) %></td>
      </tr>
      <tr>
        <td colspan="3" style="border-top: none; padding: 0;"><pre><%= query["query"] %></pre></td>
      </tr>
    <% end %>
  </tbody>
</table>
